!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("superagent-bluebird-promise")):"function"==typeof define&&define.amd?define(["superagent-bluebird-promise"],i):t.imgur=i(t.request)}(this,function(t){"use strict";function i(){var t,i,r,e={};for(r=0;r<=arguments.length;r++){i=arguments[r];for(t in i)i.hasOwnProperty(t)&&(e[t]=i[t])}return e}function r(t,i,r){return o({path:"gallery/"+i,apiUrl:e.API_URL+"/"+e.API_VERSION,get:function(r,n,o){var a=arguments.length<=3||void 0===arguments[3]?t:arguments[3],s=void 0;switch(i){case f:s=this.path+"/"+n+"/"+a+"/"+o+"?q_all="+r;break;case c:s=this.path+"/"+o;break;default:s=this.path+"/"+r+"/"+n+"/"+a+"/"+o}var h=e.buildOptions(this.apiUrl,s,"get");return this.imgurAPICall(h)},post:r})}var e={API_URL:"https://api.imgur.com",API_VERSION:"3",CLIENT_ID:"",buildOptions:function(t,i,r){var e=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return{apiUrl:t,path:i,method:r,body:e}},bearer:"",additionalHeaders:{}},n=function(i){["method","apiUrl","path","body"].forEach(function(t){if(!i[t])throw new Error(t+" must be specified")});var r="Client-ID "+e.CLIENT_ID;return e.bearer&&(r="Bearer "+e.bearer),t[i.method](i.apiUrl+"/"+i.path).send(i.body).set("Authorization",r).set(e.additionalHeaders).promise()},o=function(t){return t.imgurAPICall=n.bind(t),t.apiUrl=t.apiUrl||e.API_URL+"/"+e.API_VERSION,t},a=o({path:"image",apiUrl:e.API_URL+"/"+e.API_VERSION,get:function(t){var i=e.buildOptions(this.apiUrl,this.path+"/"+t,"get");return this.imgurAPICall(i)}}),s=o({path:"album",apiUrl:e.API_URL+"/"+e.API_VERSION,get:function(t){var i=e.buildOptions(this.apiUrl,this.path+"/"+t,"get");return this.imgurAPICall(i)}}),h=o({path:"oauth2",apiUrl:e.API_URL,get:function(t){var i=t||"token",r="?"+["response_type="+i,"client_id="+e.CLIENT_ID].join("&"),n=this.path+"/authorize"+r,o=e.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(o)},refresh:function(t,i){var r="?"+["refresh_token="+t,"client_id="+e.CLIENT_ID,"client_secret="+i,"grant_type=refresh_token"].join("&"),n=this.path+"/token"+r,o=e.buildOptions(this.apiUrl,n,"post");return this.imgurAPICall(o)}}),l=o({path:"topics",apiUrl:e.API_URL+"/"+e.API_VERSION,get:function(t){var i=arguments.length<=1||void 0===arguments[1]?"viral":arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=this.path+"/"+t+"/"+i+"/"+r,o=e.buildOptions(this.apiUrl,n,"get");return this.imgurAPICall(o)},getDefaults:function(){var t=this.path+"/defaults",i=e.buildOptions(this.apiUrl,t,"get");return this.imgurAPICall(i)}}),u={path:"gallery",apiUrl:e.API_URL+"/"+e.API_VERSION},p=o(i({},u,{REASON_DOES_NOT_BELONG_ON_IMGUR:1,get:function(t){var i=this.path+"/"+t,r=e.buildOptions(this.apiUrl,i,"get");return this.imgurAPICall(r)},report:function(t){var i=arguments.length<=1||void 0===arguments[1]?this.REASON_DOES_NOT_BELONG_ON_IMGUR:arguments[1];if(!t)throw new Error("hash must be specified");if("number"!=typeof i)throw new Error("the reason must be an integer");var r=this.path+"/"+t+"/report",n=e.buildOptions(this.apiUrl,r,"post",{reason:i});return this.imgurAPICall(n)},_handleVote:function(t,i){if(!t)throw new Error("hash must be specified");var r=this.path+"/"+t+"/vote/"+i,n=e.buildOptions(this.apiUrl,r,"post");return this.imgurAPICall(n)},upvote:function(t){return this._handleVote(t,"up")},downvote:function(t){return this._handleVote(t,"down")},favorite:function(t,i){if(!t)throw new Error("hash must be specified");if(void 0===i||"boolean"!=typeof i)throw new Error("isAlbum with type boolean must be specified");var r=i?"album":"image",n=r+"/"+t+"/favorite",o=e.buildOptions(this.apiUrl,n,"post");return this.imgurAPICall(o)},comments:o(i({},u,{get:function(t){var i=arguments.length<=1||void 0===arguments[1]?"best":arguments[1],r=this.path+"/"+t+"/comments/"+i,n=e.buildOptions(this.apiUrl,r,"get");return this.imgurAPICall(n)}}))})),d={path:"gallery/r",apiUrl:e.API_URL+"/"+e.API_VERSION},m=o(i({},d,{get:function(t,i){if(!t)throw new Error("hash must be specified");if(!i)throw new Error("subreddit must be specified");var r=this.path+"/"+i+"/"+t,n=e.buildOptions(this.apiUrl,r,"get");return this.imgurAPICall(n)}})),f="search",c="random/random",g=o({path:"gallery",apiUrl:e.API_URL+"/"+e.API_VERSION,get:function(){var t=arguments.length<=0||void 0===arguments[0]?"hot":arguments[0],i=arguments.length<=1||void 0===arguments[1]?"viral":arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]||arguments[3],o=this.path+"/"+t+"/"+i+"/"+r+"?showViral="+n,a=e.buildOptions(this.apiUrl,o,"get");return this.imgurAPICall(a)},post:p}),I="week",b="all",_=r(I,"r",m),v=r(I,"t",p),O=r(b,f,p),U=r(b,"topic",p),A=r(null,c,p),E=o({path:"comment",apiUrl:e.API_URL+"/"+e.API_VERSION,REASON_DOES_NOT_BELONG_ON_IMGUR:1,get:function(t){if(!t)throw new Error("commentId must be specified");var i=this.path+"/"+t,r=e.buildOptions(this.apiUrl,i,"get");return this.imgurAPICall(r)},downvote:function(t){if(!t)throw new Error("commentId must be specified");var i=this.path+"/"+t+"/vote/down",r=e.buildOptions(this.apiUrl,i,"post");return this.imgurAPICall(r)},upvote:function(t){if(!t)throw new Error("commentId must be specified");var i=this.path+"/"+t+"/vote/up",r=e.buildOptions(this.apiUrl,i,"post");return this.imgurAPICall(r)},report:function(t){var i=arguments.length<=1||void 0===arguments[1]?this.REASON_DOES_NOT_BELONG_ON_IMGUR:arguments[1];if(!t)throw new Error("commentId must be specified");if("number"!=typeof i)throw new Error("the reason must be an integer");var r=this.path+"/"+t+"/report",n=e.buildOptions(this.apiUrl,r,"post",{reason:i});return this.imgurAPICall(n)},deleteComment:function(t){if(!t)throw new Error("commentId must be specified");var i=this.path+"/"+t,r=e.buildOptions(this.apiUrl,i,"del");return this.imgurAPICall(r)},submitComment:function(t){["image_id","comment"].forEach(function(i){if(console.log(!t[i]),!t[i])throw new Error(i+" must be specified")});var i=e.buildOptions(this.apiUrl,this.path,"post",t);return this.imgurAPICall(i)},submitReply:function(t){["image_id","comment","parent_id"].forEach(function(i){if(!t[i])throw new Error(i+" must be specified")});var i=e.buildOptions(this.apiUrl,this.path,"post",t);return this.imgurAPICall(i)}}),P=function(t,i){var r=function(t,i){e[t]=i},o=function(t){return e[t]};if(!t)throw new Error("Client Key required to initialize imgur client");return r("CLIENT_ID",t),i&&r("bearer",i),{imgurAPICall:n,CLIENT_ID:t,image:a,album:s,oauth2:h,topics:l,gallery:g,subreddit:_,tag:v,search:O,topic:U,random:A,comment:E,setUtil:r,getUtil:o}};return P});
//# sourceMappingURL=imgur.min.js.map
